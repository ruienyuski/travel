{"version":3,"sources":["webpack:///./src/views/Hotel.vue","webpack:///./src/views/Hotel.vue?74f0"],"names":["class","active","isLoading","side","name","fooddata","item","style","key","ID","src","Picture","PictureUrl1","alt","RestaurantName","fit","City","hoteldata","HotelName","setup","category","axios","getAuthorizationHeader","GMTString","Date","toGMTString","ShaObj","setHMACKey","update","HMAC","getHMAC","Authorization","getHotelData","value","get","headers","then","res","temp","data","filter","i","random","sort","Math","ary","slice","getFoodData","console","log","__exports__","render","QPageContainer","QItem","QItemSection","QIcon","QImg"],"mappings":"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","file":"js/chunk-2d0be09f.b55fca23.js","sourcesContent":["<template>\r\n  <Loading :active=\"isLoading\" />\r\n  <q-page-container class=\"bg-info\">\r\n    <div class=\"row container\">\r\n      <div class=\"q-pa-md col-md-12 q-gutter-md\">\r\n        <q-item>\r\n          <q-item-section side>\r\n            <q-icon name=\"square\" class=\"text-secondary\" ></q-icon>\r\n          </q-item-section>\r\n          <q-item-section class=\"text-h6\">熱門美食</q-item-section>\r\n        </q-item>\r\n        <div class=\"q-pa-md\">\r\n          <div class=\"row justify-between items-start q-gutter-x-xs q-gutter-y-xl q-mb-lg\">\r\n            <div class=\"drop-shadow column my-card col-md-2 justify-between\"\r\n            style=\"height:243px;\" v-for=\"item in fooddata\" :key=\"item.ID\"\r\n            >\r\n              <q-img :src=\"item.Picture.PictureUrl1\" :alt=\"item.RestaurantName\"\r\n              style=\"height:137px;border:12px solid #fff\"\r\n              fit=\"cover\"\r\n              />\r\n              <div class=\"column col bg-white q-pa-md\">\r\n                <div >{{ item.RestaurantName }}</div>\r\n                <div class=\"text-subtitle2\">\r\n                  <q-icon name=\"place\" class=\"text-primary\"></q-icon>\r\n                  <span class=\"text-accent\">{{item.City}}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <q-item>\r\n          <q-item-section side>\r\n            <q-icon name=\"square\" class=\"text-secondary\" ></q-icon>\r\n          </q-item-section>\r\n          <q-item-section class=\"text-h6\">推薦住宿</q-item-section>\r\n        </q-item>\r\n        <div class=\"q-pa-md\">\r\n          <div class=\"row justify-between items-start q-gutter-x-xs q-gutter-y-xl q-mb-lg\">\r\n            <div class=\"drop-shadow column my-card col-md-2 justify-between\"\r\n            style=\"height:243px;\" v-for=\"item in hoteldata\" :key=\"item.ID\"\r\n            >\r\n              <q-img :src=\"item.Picture.PictureUrl1\" :alt=\"item.RestaurantName\"\r\n              style=\"height:137px;border:12px solid #fff\"\r\n              fit=\"cover\"\r\n              />\r\n              <div class=\"column col bg-white q-pa-md\">\r\n                <div >{{ item.HotelName }}</div>\r\n                <div class=\"text-subtitle2\">\r\n                  <q-icon name=\"place\" class=\"text-primary\"></q-icon>\r\n                  <span class=\"text-accent\">{{item.City}}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </q-page-container>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ref,\r\n  onMounted,\r\n  inject,\r\n} from 'vue';\r\nimport JSSHA from 'jssha';\r\n\r\nexport default {\r\n  setup() {\r\n    const fooddata = ref({});\r\n    const hoteldata = ref({});\r\n    const category = ref(null);\r\n    const isLoading = ref(null);\r\n    const axios = inject('axios');// inject axios\r\n    const getAuthorizationHeader = () => {\r\n      //  填入自己 ID、KEY 結束\r\n      const GMTString = new Date().toGMTString();\r\n      const ShaObj = new JSSHA('SHA-1', 'TEXT');\r\n      ShaObj.setHMACKey(process.env.VUE_APP_APIKEY, 'TEXT');\r\n      ShaObj.update(`x-date: ${GMTString}`);\r\n      const HMAC = ShaObj.getHMAC('B64');\r\n      const Authorization = `hmac username=\"${process.env.VUE_APP_ID}\",algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"${HMAC}\"'`;\r\n      return { Authorization, 'X-Date': GMTString };\r\n    };\r\n    const getHotelData = () => {\r\n      isLoading.value = true;\r\n      axios.get('https://ptx.transportdata.tw/MOTC/v2/Tourism/Hotel',\r\n        {\r\n          headers: getAuthorizationHeader(),\r\n        }).then((res) => {\r\n        const temp = res.data.filter((i) => i.Picture.PictureUrl1);\r\n        const random = temp.sort(() => Math.random() - 0.5);\r\n        const ary = random.slice(0, 10);\r\n        hoteldata.value = ary;\r\n        isLoading.value = false;\r\n      });\r\n    };\r\n    const getFoodData = () => {\r\n      axios.get('https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant',\r\n        {\r\n          headers: getAuthorizationHeader(),\r\n        }).then((res) => {\r\n        // eslint-disable-next-line\r\n          console.log(res);\r\n        const temp = res.data.filter((i) => i.Picture.PictureUrl1);\r\n        const random = temp.sort(() => Math.random() - 0.5);\r\n        const ary = random.slice(0, 10);\r\n        fooddata.value = ary;\r\n      });\r\n    };\r\n    onMounted(() => {\r\n      getHotelData();\r\n      getFoodData();\r\n    });\r\n    return {\r\n      hoteldata,\r\n      fooddata,\r\n      category,\r\n      isLoading,\r\n    };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Hotel.vue?vue&type=template&id=31e81d61\"\nimport script from \"./Hotel.vue?vue&type=script&lang=js\"\nexport * from \"./Hotel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\yuski\\\\Desktop\\\\test\\\\quasarweb\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QPageContainer from 'quasar/src/components/page/QPageContainer.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QImg from 'quasar/src/components/img/QImg.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QPageContainer,QItem,QItemSection,QIcon,QImg});\n"],"sourceRoot":""}