{"version":3,"sources":["webpack:///./src/views/Hotel.vue","webpack:///./src/views/Hotel.vue?74f0"],"names":["class","active","isLoading","side","name","fooddata","item","style","key","ID","src","Picture","PictureUrl1","RestaurantName","City","hoteldata","HotelName","setup","category","axios","getAuthorizationHeader","GMTString","Date","toGMTString","ShaObj","setHMACKey","update","HMAC","getHMAC","Authorization","getHotelData","value","get","headers","then","res","temp","data","filter","i","random","sort","Math","ary","slice","getFoodData","console","log","__exports__","render","QItem","QItemSection","QIcon","QCard","QCardSection"],"mappings":"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","file":"js/chunk-2d0be09f.daf073a2.js","sourcesContent":["<template>\r\n  <Loading :active=\"isLoading\" />\r\n  <q-item>\r\n    <q-item-section side>\r\n      <q-icon name=\"square\" class=\"text-secondary\" ></q-icon>\r\n    </q-item-section>\r\n    <q-item-section class=\"text-h6\">熱門美食</q-item-section>\r\n  </q-item>\r\n  <div class=\"q-pa-md row justify-between items-start q-gutter-md\">\r\n    <q-card class=\"my-card drop-shadow col-md-2\"\r\n    style=\"height:243px;\" v-for=\"item in fooddata\" :key=\"item.ID\">\r\n      <img :src=\"item.Picture.PictureUrl1\"\r\n      style=\"height:137px;object-fit: cover;border:12px solid #fff\">\r\n      <q-card-section>\r\n        <div >{{ item.RestaurantName }}</div>\r\n        <div class=\"text-subtitle2\">\r\n          <q-icon name=\"place\" class=\"text-primary\"></q-icon>\r\n          <span class=\"text-accent\">{{item.City}}</span>\r\n        </div>\r\n      </q-card-section>\r\n    </q-card>\r\n  </div>\r\n  <q-item>\r\n    <q-item-section side>\r\n      <q-icon name=\"square\" class=\"text-secondary\" ></q-icon>\r\n    </q-item-section>\r\n    <q-item-section class=\"text-h6\">推薦住宿</q-item-section>\r\n  </q-item>\r\n  <div class=\"q-pa-md row justify-between items-start q-gutter-md\">\r\n    <q-card class=\"my-card drop-shadow col-md-2\"\r\n    style=\"height:243px;\" v-for=\"item in hoteldata\" :key=\"item.ID\">\r\n      <img :src=\"item.Picture.PictureUrl1\"\r\n      style=\"height:137px;object-fit: cover;border:12px solid #fff\">\r\n      <q-card-section>\r\n        <div >{{ item.HotelName }}</div>\r\n        <div class=\"text-subtitle2\">\r\n          <q-icon name=\"place\" class=\"text-primary\"></q-icon>\r\n          <span class=\"text-accent\">{{item.City}}</span>\r\n        </div>\r\n      </q-card-section>\r\n    </q-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ref,\r\n  onMounted,\r\n  inject,\r\n} from 'vue';\r\nimport JSSHA from 'jssha';\r\n\r\nexport default {\r\n  setup() {\r\n    const fooddata = ref({});\r\n    const hoteldata = ref({});\r\n    const category = ref(null);\r\n    const isLoading = ref(null);\r\n    const axios = inject('axios');// inject axios\r\n    const getAuthorizationHeader = () => {\r\n      //  填入自己 ID、KEY 結束\r\n      const GMTString = new Date().toGMTString();\r\n      const ShaObj = new JSSHA('SHA-1', 'TEXT');\r\n      ShaObj.setHMACKey(process.env.VUE_APP_APIKEY, 'TEXT');\r\n      ShaObj.update(`x-date: ${GMTString}`);\r\n      const HMAC = ShaObj.getHMAC('B64');\r\n      const Authorization = `hmac username=\"${process.env.VUE_APP_ID}\",algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"${HMAC}\"'`;\r\n      return { Authorization, 'X-Date': GMTString };\r\n    };\r\n    const getHotelData = () => {\r\n      isLoading.value = true;\r\n      axios.get('https://ptx.transportdata.tw/MOTC/v2/Tourism/Hotel',\r\n        {\r\n          headers: getAuthorizationHeader(),\r\n        }).then((res) => {\r\n        const temp = res.data.filter((i) => i.Picture.PictureUrl1);\r\n        const random = temp.sort(() => Math.random() - 0.5);\r\n        const ary = random.slice(0, 10);\r\n        hoteldata.value = ary;\r\n        isLoading.value = false;\r\n      });\r\n    };\r\n    const getFoodData = () => {\r\n      axios.get('https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant',\r\n        {\r\n          headers: getAuthorizationHeader(),\r\n        }).then((res) => {\r\n        // eslint-disable-next-line\r\n          console.log(res);\r\n        const temp = res.data.filter((i) => i.Picture.PictureUrl1);\r\n        const random = temp.sort(() => Math.random() - 0.5);\r\n        const ary = random.slice(0, 10);\r\n        fooddata.value = ary;\r\n      });\r\n    };\r\n    onMounted(() => {\r\n      getHotelData();\r\n      getFoodData();\r\n    });\r\n    return {\r\n      hoteldata,\r\n      fooddata,\r\n      category,\r\n      isLoading,\r\n    };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Hotel.vue?vue&type=template&id=1d389268\"\nimport script from \"./Hotel.vue?vue&type=script&lang=js\"\nexport * from \"./Hotel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\yuski\\\\Desktop\\\\test\\\\quasarweb\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QItem,QItemSection,QIcon,QCard,QCardSection});\n"],"sourceRoot":""}