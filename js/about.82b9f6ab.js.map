{"version":3,"sources":["webpack:///./src/views/Result.vue","webpack:///./src/views/Result.vue?8a22"],"names":["class","style","active","isLoading","side","name","categoryColor","category","resultdata","length","item","key","ID","src","Picture","PictureUrl1","alt","RestaurantName","fit","HotelName","ActivityName","City","components","Headerbaner","setup","route","selectCategory","selectLocation","axios","getAuthorizationHeader","GMTString","Date","toGMTString","ShaObj","setHMACKey","update","HMAC","getHMAC","Authorization","getCategoryCountry","value","get","params","city","headers","then","res","temp","data","filter","i","random","sort","Math","ary","slice","__exports__","render","QPageContainer","QItem","QItemSection","QIcon","QImg"],"mappings":"iIAIWA,MAAM,iB,GACJA,MAAM,qB,GAOJA,MAAM,qB,SAETA,MAAM,+D,GAQGA,MAAM,yC,GACJA,MAAM,yBACXC,MAAA,2C,GAGKD,MAAM,+BACXC,MAAA,qB,GAEQD,MAAM,e,SAMpBA,MAAM,+D,GAQKA,MAAM,yC,GACJA,MAAM,yBACXC,MAAA,2C,GAGKD,MAAM,+BACXC,MAAA,qB,GAEQD,MAAM,e,EAQ5B,eAEM,OAFDA,MAAM,8BAA6B,mDAExC,G,oSA7DF,eAA+B,GAArBE,OAAQ,EAAAC,WAAS,mBAC3B,eAAe,GACf,eA4DmB,GA5DAH,MAAM,WAAS,C,wBAChC,iBAuDM,CAvDN,eAuDM,MAvDN,EAuDM,CAtDJ,eAqDM,MArDN,EAqDM,CApDJ,eAKS,Q,wBAJP,iBAEiB,CAFjB,eAEiB,GAFDI,KAAA,IAAI,C,wBAClB,iBAAuD,CAAvD,eAAuD,GAA/CC,KAAK,SAAUL,MAAK,eAAE,EAAAM,gB,4BAEhC,eAA6D,GAA7CN,MAAM,WAAS,C,wBAAC,iBAAY,C,8BAAV,EAAAO,UAAQ,O,gBAE5C,eA6CM,MA7CN,EA6CM,CA5CO,EAAAC,WAAWC,OAAM,G,iBAA5B,eAqBM,MArBN,EAqBM,E,mBAnBJ,eAkBM,2BAjB+B,EAAAD,YAAU,SAAlBE,G,wBAD7B,eAkBM,OAlBDV,MAAM,uDACXC,MAAA,iBAAkDU,IAAKD,EAAKE,I,CAE1D,eAGE,GAHMC,IAAKH,EAAKI,QAAQC,YAAaf,MAAM,QAASgB,IAAKN,EAAKO,eAChEhB,MAAA,+DACAiB,IAAI,S,sBAEJ,eAUM,MAVN,EAUM,CATJ,eAGM,MAHN,EAGM,eADHR,EAAKS,WAAYT,EAAKO,gBAAkBP,EAAKU,cAAY,GAE5D,eAIM,MAJN,EAIM,CAFJ,eAAmD,GAA3Cf,KAAK,QAAQL,MAAM,iBAC3B,eAA8C,OAA9C,EAA8C,eAAlBU,EAAKW,MAAI,Y,2BAK7C,eAqBM,MArBN,EAqBM,E,mBAnBF,eAkBM,2BAjB+B,EAAAb,YAAU,SAAlBE,G,wBAD7B,eAkBM,OAlBDV,MAAM,uDACXC,MAAA,iBAAkDU,IAAKD,EAAKE,I,CAE1D,eAGE,GAHMC,IAAKH,EAAKI,QAAQC,YAAaf,MAAM,QAASgB,IAAKN,EAAKO,eAChEhB,MAAA,+DACAiB,IAAI,S,sBAEJ,eAUM,MAVN,EAUM,CATJ,eAGM,MAHN,EAGM,eADHR,EAAKS,WAAYT,EAAKO,gBAAkBP,EAAKU,cAAY,GAE5D,eAIM,MAJN,EAIM,CAFJ,eAAmD,GAA3Cf,KAAK,QAAQL,MAAM,iBAC3B,eAA8C,OAA9C,EAA8C,eAAlBU,EAAKW,MAAI,Y,eAQrD,M,2FAiBS,GACbC,WAAY,CAAEC,YAAA,QACdC,MAFa,WAGX,IAAMC,EAAQ,iBACRC,EAAiB,eAAI,MACrBC,EAAiB,eAAI,MACrBnB,EAAa,eAAI,IACjBD,EAAW,eAAI,MACfD,EAAgB,eAAI,MACpBH,EAAY,eAAI,MAChByB,EAAQ,eAAO,SACfC,EAAyB,WAE7B,IAAMC,GAAY,IAAIC,MAAOC,cACvBC,EAAS,IAAI,OAAM,QAAS,QAClCA,EAAOC,WAAW,8BAA4B,QAC9CD,EAAOE,OAAP,kBAAyBL,IACzB,IAAMM,EAAOH,EAAOI,QAAQ,OACtBC,EAAY,yBAAsB,mCAAtB,iEAAqGF,EAArG,OAClB,MAAO,CAAEE,gBAAe,SAAUR,IAE9BS,EAAqB,WACzBpC,EAAUqC,OAAQ,EAClBZ,EAAMa,IAAN,uDAA0DhB,EAAMiB,OAAOhC,KAAvE,YAA+Ee,EAAMiB,OAAOC,MAC1F,CACEC,QAASf,MACRgB,MAAK,SAACC,GACT,OAAQrB,EAAMiB,OAAOhC,MACnB,IAAK,aACHH,EAASiC,MAAQ,KACjBlC,EAAckC,MAAQ,cACtB,MACF,IAAK,QACHjC,EAASiC,MAAQ,KACjBlC,EAAckC,MAAQ,iBACtB,MACF,IAAK,WACHjC,EAASiC,MAAQ,KACjBlC,EAAckC,MAAQ,eACtB,MACF,QACEjC,EAASiC,MAAQ,GACjBlC,EAAckC,MAAQ,GAE1B,IAAMO,EAAOD,EAAIE,KAAKC,QAAO,SAACC,GAAD,OAAOA,EAAEpC,QAAQC,eACxCoC,EAASJ,EAAKK,MAAK,kBAAMC,KAAKF,SAAW,MACzCG,EAAMH,EAAOI,MAAM,EAAG,IAC5B/C,EAAWgC,MAAQc,EACnBnD,EAAUqC,OAAQ,MAStB,OANA,eAAMf,GAAO,WACXc,OAEF,gBAAU,WACRA,OAEK,CACLA,qBACAb,iBACAC,iBACAnB,aACAD,WACAD,gBACAH,e,sGCxIN,MAAMqD,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,eAOf,IAAS,EAAQ,aAAc,CAACC,iBAAA,KAAeC,QAAA,KAAMC,eAAA,KAAaC,QAAA,KAAMC,OAAA","file":"js/about.82b9f6ab.js","sourcesContent":["<template>\r\n    <Loading :active=\"isLoading\" />\r\n    <Headerbaner />\r\n    <q-page-container  class=\"bg-info\">\r\n      <div class=\"row container\">\r\n        <div class=\"q-pa-md col-md-12 \">\r\n          <q-item>\r\n            <q-item-section side>\r\n              <q-icon name=\"square\" :class=\"categoryColor\" ></q-icon>\r\n            </q-item-section>\r\n            <q-item-section class=\"text-h6\">{{category}}</q-item-section>\r\n          </q-item>\r\n          <div class=\"q-pa-md col-md-12 \">\r\n            <div v-if=\"resultdata.length < 5\"\r\n            class=\"row justify-between items-start q-gutter-x-xs q-gutter-y-xl\">\r\n              <div class=\"drop-shadow column col-md-4 col-xs-5 justify-between\"\r\n              style=\"height:243px;\" v-for=\"item in resultdata\" :key=\"item.ID\"\r\n              >\r\n                <q-img :src=\"item.Picture.PictureUrl1\" class=\"col-5\" :alt=\"item.RestaurantName\"\r\n                style=\"height:137px;object-fit: cover;border:12px solid #fff\"\r\n                fit=\"cover\"\r\n                />\r\n                <div class=\"column col-5 justify-between bg-white\">\r\n                  <div class=\"col-5 ellipsis q-px-md\"\r\n                  style=\"line-height:1.5;max-width: 180px;\">\r\n                  {{ item.HotelName|| item.RestaurantName || item.ActivityName }}\r\n                  </div>\r\n                  <div class=\"text-subtitle2 col-5 q-px-md\"\r\n                  style=\"line-height:3\">\r\n                    <q-icon name=\"place\" class=\"text-primary\"></q-icon>\r\n                    <span class=\"text-accent\">{{item.City}}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div v-else\r\n            class=\"row justify-between items-start q-gutter-x-xs q-gutter-y-xl\">\r\n                <div class=\"drop-shadow column col-md-2 col-xs-5 justify-between\"\r\n                style=\"height:243px;\" v-for=\"item in resultdata\" :key=\"item.ID\"\r\n                >\r\n                  <q-img :src=\"item.Picture.PictureUrl1\" class=\"col-5\" :alt=\"item.RestaurantName\"\r\n                  style=\"height:137px;object-fit: cover;border:12px solid #fff\"\r\n                  fit=\"cover\"\r\n                  />\r\n                  <div class=\"column col-5 justify-between bg-white\">\r\n                    <div class=\"col-5 ellipsis q-px-md\"\r\n                    style=\"line-height:1.5;max-width: 180px;\">\r\n                    {{ item.HotelName|| item.RestaurantName || item.ActivityName }}\r\n                    </div>\r\n                    <div class=\"text-subtitle2 col-5 q-px-md\"\r\n                    style=\"line-height:3\">\r\n                      <q-icon name=\"place\" class=\"text-primary\"></q-icon>\r\n                      <span class=\"text-accent\">{{item.City}}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row q-pa-md justify-center\">\r\n        Taiwan Tourguide  © Code: Michael  /  Design: KT\r\n      </div>\r\n    </q-page-container>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  ref,\r\n  onMounted,\r\n  inject,\r\n  watch,\r\n} from 'vue';\r\nimport JSSHA from 'jssha';\r\nimport { useRoute } from 'vue-router';\r\nimport Headerbaner from '../components/HeaderBaner.vue';\r\n\r\nexport default {\r\n  components: { Headerbaner },\r\n  setup() {\r\n    const route = useRoute();\r\n    const selectCategory = ref(null);\r\n    const selectLocation = ref(null);\r\n    const resultdata = ref({});\r\n    const category = ref(null);\r\n    const categoryColor = ref(null);\r\n    const isLoading = ref(null);\r\n    const axios = inject('axios');// inject axios\r\n    const getAuthorizationHeader = () => {\r\n      //  填入自己 ID、KEY 結束\r\n      const GMTString = new Date().toGMTString();\r\n      const ShaObj = new JSSHA('SHA-1', 'TEXT');\r\n      ShaObj.setHMACKey(process.env.VUE_APP_APIKEY, 'TEXT');\r\n      ShaObj.update(`x-date: ${GMTString}`);\r\n      const HMAC = ShaObj.getHMAC('B64');\r\n      const Authorization = `hmac username=\"${process.env.VUE_APP_ID}\",algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"${HMAC}\"'`;\r\n      return { Authorization, 'X-Date': GMTString };\r\n    };\r\n    const getCategoryCountry = () => {\r\n      isLoading.value = true;\r\n      axios.get(`https://ptx.transportdata.tw/MOTC/v2/Tourism/${route.params.item}/${route.params.city}`,\r\n        {\r\n          headers: getAuthorizationHeader(),\r\n        }).then((res) => {\r\n        switch (route.params.item) {\r\n          case 'Restaurant':\r\n            category.value = '餐飲';\r\n            categoryColor.value = 'text-accent';\r\n            break;\r\n          case 'Hotel':\r\n            category.value = '住宿';\r\n            categoryColor.value = 'text-secondary';\r\n            break;\r\n          case 'Activity':\r\n            category.value = '活動';\r\n            categoryColor.value = 'text-primary';\r\n            break;\r\n          default:\r\n            category.value = '';\r\n            categoryColor.value = '';\r\n        }\r\n        const temp = res.data.filter((i) => i.Picture.PictureUrl1);\r\n        const random = temp.sort(() => Math.random() - 0.5);\r\n        const ary = random.slice(0, 10);\r\n        resultdata.value = ary;\r\n        isLoading.value = false;\r\n      });\r\n    };\r\n    watch(route, () => {\r\n      getCategoryCountry();\r\n    });\r\n    onMounted(() => {\r\n      getCategoryCountry();\r\n    });\r\n    return {\r\n      getCategoryCountry,\r\n      selectCategory,\r\n      selectLocation,\r\n      resultdata,\r\n      category,\r\n      categoryColor,\r\n      isLoading,\r\n    };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Result.vue?vue&type=template&id=802863a2\"\nimport script from \"./Result.vue?vue&type=script&lang=js\"\nexport * from \"./Result.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\yuski\\\\Desktop\\\\test\\\\quasarweb\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__\nimport QPageContainer from 'quasar/src/components/page/QPageContainer.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QImg from 'quasar/src/components/img/QImg.js';\nimport qInstall from \"../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QPageContainer,QItem,QItemSection,QIcon,QImg});\n"],"sourceRoot":""}